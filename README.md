# Nebulosus fog FS

Реализация туманной файловой системы на основе фреймворка Substrate.

## 1. О проекте

Проект представляет собой реализацию Linux-подобной файловой системы, где все данные файлов хранятся непосредственно на блокчейне.

Система подразумевает хранение небольших файлов (непосредственный размер задается через конфиг в рантайме) внутри создаваемых директорий.
Директории могут образовывать привычную древовидную иерархию.

Каждое действие связанное с изменением файловой системы требует верификации через ЭЦП и определенную плату в токенах.

Любой файл или директория представляет собой уникальную айноду, содержащую все необходимые метаданные. На текущий момент это:
* Владелец
* File mode (regular/directory)
* Время создания
* Время модификации (изменение контента)
* Время изменения (изменение метаданных, включая название)
* Блок в котором был создан файл/директория
* Права доступ владельца (сейчас имеет значение только w)
* Права доступа других пользователей

Разрешение имени файла осуществляется через ассоциативный список имя/айнода, содержащийся в каждой директории.
При этом доступ к файлам/директориям и их содержимому осуществляется через айноду.

В дальнейшем планируется реализация фронтенда, который сможет построить дерево директорий и взаимодействовать с файлами не заставляя пользователя знать конкретную айноду для доступа.

## 2. Установка и запуск

Проект все еще на стадии разработки, поэтому пока тестировался запуск только дев ноды. Никакие данные не будут сохранены.

### 2.1 Сборка

```bash
git clone https://github.com/Arugaf/Nebulosus.git
cd Nebulosus
cargo +nightly build --release
```

### 2.2 Запуск

```bash
./target/release/nebulosus-node --dev --tmp
```

### 2.3 Взаимодействие

На данный момент взаимодействие возможно только напрямую через extrinsics.

Для использования с polkadot.js/app необходимо скопировать содержимое файла 

```bash
Nebulosus/pallets/filesystem/types.json
```

в settings->developer в

```
polkadot.js.org/apps.
```
